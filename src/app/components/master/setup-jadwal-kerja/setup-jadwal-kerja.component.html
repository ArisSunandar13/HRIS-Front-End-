<h5>Setup Jadwal Kerja</h5>

<div class="button" *ngIf="selectedIndex ===1">
    <button class="download waves-effect waves-dark">
        Download
    </button>
    <button class="tambah waves-effect waves-light" (click)="tambahJadwalKerjaCategory()">
        Tambah
    </button>
</div>

<div class="button" *ngIf="selectedIndex === 3">
    <button class="download waves-effect waves-dark">
        Download
    </button>
    <button class="tambah waves-effect waves-light">
        Tambah
    </button>
</div>
<mat-tab-group color="warn" [(selectedIndex)]="selectedIndex">

    <!-- DETAIL -->
    <mat-tab label="Detail">
        <div class="content">
            <div class="left">
                <table class="responsive-tabel striped jadwal">
                    <thead>
                        <th>Tanggal</th>
                        <th>Hari</th>
                        <th>Jadwal</th>
                        <th>Jadwal Kerja</th>
                        <th>Jadwal istirahat</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let row of dataJadwalKerjaPerMonth" (click)="selectJadwalKerja(row.tgl)">
                            <td>{{formatDate(row.tgl)}}</td>
                            <td>{{row.hari}}</td>
                            <td>{{row.id_jadwal_kerja}}</td>
                            <td>{{row.masuk+' - '+row.keluar}}</td>
                            <td>{{row.start_break+' - '+row.end_break}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="right">
                <button class="print">
                    Print
                </button>

                <p class="label">Periode</p>
                <input type="month" name="periode" id="periode" [(ngModel)]="periode"
                    (input)="getDataJadwalKerjaPerMonth(indexProfile, periode)">

                <p class="label">Nama</p>
                <div class="nip-name">

                    <input type="number" name="nip" id="nip" class="browser-default" [matAutocomplete]="auto"
                        (input)="filterNip($event.target)" [value]="dataSelected===undefined?'':dataSelected.nip">
                    <mat-autocomplete #auto>
                        <mat-option *ngFor="let row of dataFiltered" (click)="selectNip(row)">{{row.nip}}</mat-option>
                    </mat-autocomplete>
                    <p class="name">{{dataSelected===undefined?'':dataSelected.nama_lengkap}}</p>

                    <button class="filter">
                        <mat-icon fontIcon="filter_list"></mat-icon>
                    </button>
                </div>

                <table class="responsive-tabel striped profil">
                    <thead>
                        <th>NIP</th>
                        <th>Nama</th>
                        <th>Perusahaan</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let row of dataJadwalKerjaDetail, index as i"
                            (click)="getDataJadwalKerjaPerMonth(i, periode)">
                            <td>{{row.nip}}</td>
                            <td>{{row.nama_lengkap}}</td>
                            <td>{{row.perusahaan}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </mat-tab>

    <!-- CATEGORY -->
    <mat-tab label="Category">
        <div class="content">
            <table class="responsive-tabel striped category">
                <thead>
                    <th>Lokasi</th>
                    <th>Divisi</th>
                    <th>Departemen</th>
                    <th>Sub Departemen</th>
                    <th></th>
                </thead>
                <tbody>
                    <tr *ngFor="let row of dataJadwalKerjaCategory">
                        <td (click)="editJadwalKerjaCategory(row)">{{row.lokasi}}</td>
                        <td (click)="editJadwalKerjaCategory(row)">{{row.divisi}}</td>
                        <td (click)="editJadwalKerjaCategory(row)">{{row.departemen}}</td>
                        <td (click)="editJadwalKerjaCategory(row)">{{row.sub_departemen}}</td>
                        <td>
                            <button class="void" (click)="void(row.id)">
                                <mat-icon class="waves-effect waves-light" fontIcon="close"></mat-icon>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </mat-tab>

    <mat-tab label="Upload">Upload</mat-tab>

    <mat-tab label="Individu">Individu</mat-tab>
</mat-tab-group>